# 简答题

## 单总线数据通路的特点（如运算器的输入输出暂存器的设计，三态门的设计等)

1. 运算器输入输出暂存器

- **暂存**：暂存参与运算及运算后的数据 。
- **隔离缓冲**：隔离运算器与总线，缓冲速度差异 。
- **信号配合**：读写依控制信号操作,实现数据的同步。

2. 三态门

- **共享总线**：通过高阻态避免信号冲突，实现部件共享 。
- **灵活控制**：由控制单元精准控制使能 。
- **抗干扰**：高阻态减少信号干扰 。

3. 总体

- **结构**：结构简单，成本低 。
- **使用**：分时复用，需精确调度 。
- **效率**：传输效率相对受限 。

## 单周期与多周期 MIPS 处理器数据通路的区别

1. 不再区分指令存储器和数据存储器
2. 部分单元，如 ALU，寄存器对可以在一条指令执行的不同时钟周期内被多次使用
3. 在主要功能单元输出端增加了附加寄存器，如增加 DR 和 IR
4. PC 增加了使能端
5. 增加和扩展了部分多路选择器
6. 增加了 ALU 控制器

## 冯诺依曼计算机特点

1. 由计算器，存储器，控制器，输入输出设备构成
2. 以计算器为主体
3. 指令与数据都是以二进制进行存储
4. 指令与数据都存储在存储器中
5. 都是顺序存储的
6. 指令由操作码和地址码组成

## 定点数运算溢出判断的三种方式

1. 根据操作数和运算结果的符号位是否一致进行检测
2. 根据运算过程的最高数据位的进位和符号位的进位是否一致进行检测
3. 使用变形补码的符号位进行检测

## 微程序设计与硬布线控制器设计的共同点与区别

- **共同点**：两者均用于控制器设计，核心功能都是生成控制信号，以保障计算机系统各部件协同工作。
- **区别**
  - **时序控制**：硬布线控制器采用硬时序，通过组合逻辑电路直接产生控制信号；微程序设计采用软时序，将控制信号存储为微指令，存放在控制存储器中，按顺序读取执行 。
  - **运行速度**：硬布线控制器执行速度快，控制信号直接由逻辑电路产生；微程序设计执行速度相对较慢，需读取微指令、执行等步骤，存在额外时间开销。
  - **电路复杂度与维护性**：硬布线控制器电路复杂，逻辑关系紧密，一旦设计完成修改和维护困难；微程序设计采用存储技术和程序设计技术，修改微程序就能改变控制功能，便于维护和升级。
  - **应用场景**：硬布线控制器常用于 RISC；微程序设计常用于 CISC。

## 微指令微地址的生成逻辑

![alt text](image.png)

## 总线仲裁中集中式仲裁方式的各自特点

- 链式查询
  1. 优点：结构简单，控制线少，扩容容易
  2. 缺点： 优先级固定，仲裁速度慢，存在单点故障
- 计数器定时查询
  1. 优点：用一组计数地址来替代了 BG；可以动态改变设备的优先级
  2. 缺点：速度慢，结构复杂
- 独立请求方式
  1. 优先级策略最为灵活
  2. 结构最为复杂
  3. 控制线数量最多
  4. 仲裁速度最快

## 同步、半同步、异步通信的各自特点和不同之处 ，可结合存储器读写操作进行各信号线的实际含义理解与分析

同步：出从设备的操作在时间点上是固定的，接口逻辑简单，速度快，频率取决于最慢的设备。
半同步；即保留同步定时所有信号由公共时钟定时的特点，又保留了异步同行允许不同速率的设备协同工作的特点，有效解决了异步传输中的噪声铭感问题
异步：取消了固定的时钟信号，增加了用于握手的时钟信号，使得不同频率的设备可以进行通信，

## 总线信号互锁的三种方式，会举例说明

- 非互锁，主设备先发送 REQ 信号，设备收到后发出 ACK 信号，SPI 总线
- 半互锁，请求信号的撤销依赖于应答信号的建立，I2C 协议
- 全互锁，应答信号的撤销依赖于请求信号的撤销，AMBA AHB 总线

## DMA 与中断技术的区别

1. 中断技术请求的是 CPU 时间，DMA 请求的是总线控制权。
2. 中断技术通过 CPU 执行程序来进行实际数据传送，又程序执行现场的保护与恢复问题。DMA 依靠的是外部的硬件。
3. DMA 仅用于数据传输，中断技术还可以处理其他随机事件。

## 结合 CPU 运行情况，理解程序中断， DMA 方式以及程序查询方式的特点

1. 程序查询方式：CPU 通过直接执行输入输出程序与外部设别进行数据交换。
2. 程序中断方式:有效的消除了 CPU 轮询的开销，但是也增加了进程调度之间上下文切换时间的开销
3. DMA 方式：由 DMA 控制器暂时接管总线控制外部设备与内存之间的直接数据交换，无需经过寄存器中转，依靠外部部件。

## 响应优先级与处理优先级的区别

响应优先级侧重于 CPU 对中断请求的响应顺序，由硬件决定；处理优先级侧重于 CPU 实际处理中断的顺序，可通过软件（屏蔽技术）进行调整，以满足不同的系统需求和应用场景。

## 向量中断、中断向量、中断向量表概念的理解

中断向量是中断处理程序的入口地址。
中断向量表是中断向量的集合。
向量中断是指一种识别中断源的技术或方式。识别中断源的目的就是要找到中断源对应的中断服务程序的入口地址的地址，即获得向量地址。

## 中断响应周期要完成的具体工作，由谁来完成

CPU 一旦响应中断，就进入中断响应阶段，在这个时间段内，CPU 要完成下列工作。
（1）关中断：即临时停止中断请求，主要是为了保证保存断点和后续保护现场操作的完
整性，只有这样才能使中断服务程序完成后正确返回断点继续执行。注意开、关中断可以通过
指令实现，也可以通过硬件自动实现，中断响应阶段的关中断操作是通过硬件自动完成的。
（2）保存断点：即将程序计数器 PC 和处理器的状态寄存器 PSW 的内容压入堆栈或放入特
定的单元保存，x86 中需要保存 CS、IP、PSW 寄存器至内存堆栈中；而 MIPS 中没有状态寄存器，
只需要保存 PC 至 EPC 寄存器中。注意内部异常和外部中断的断点有差异，内部异常指令并没
有执行成功，异常处理后要重新执行，所以其断点是当前指令的地址。而外部中断的断点则是
下一条指令的地址，如果指令顺序执行，断点是顺序指令地址，否则将是分支目标地址。
（3）中断识别：通过硬件或软件方法查找中断源，清除当前中断请求，将对应的中断服务
程序入口地址送入程序计数器 PC，完成中断识别后即可正式执行中断服务程序。
上述 3 个任务可能需要 0 到 n 个时钟周期才能完成，由于中断响应过程中 CPU 不能执行其
他任务，因此中断响应的过程可以看作由 CPU 执行中断隐指令完成的，需要占用 CPU 时间。注
意中断隐指令并不存在，只是一种虚拟的说法，本质上就是硬件的一系列自动操作。
